---
import ThemeToggle from './ThemeToggle.astro';
import { trackNavigation } from '../utils/analytics';

interface Props {
    currentPath?: string;
    staticHeader?: boolean;
}

const { currentPath = '/', staticHeader = false } = Astro.props;
---

<header class={`site-header${staticHeader ? ' site-header--static' : ''}`}>
    <div class="container">
        <nav>
            <div class="logo-wrapper">
                <img
                    src="/images/logo/gst-delta-icon-teal-stroke-thick.svg"
                    alt="Global Strategic Technology logo"
                    class="delta-icon"
                    aria-hidden="true"
                />
                <a href="/" class="logo" onclick="trackNavigation('/', 'Logo')">G<span>S</span>T</a>
            </div>
            <ul>
                <li><a href="/services" onclick="trackNavigation('/services', 'Services')">Services</a></li>
                <li><a href="/ma-portfolio" onclick="trackNavigation('/ma-portfolio', 'M&A Portfolio')" class={currentPath?.startsWith('/ma-portfolio') ? 'active' : ''}>M&A</a></li>
                <li><a href="/hub" onclick="trackNavigation('/hub', 'Hub')" class={currentPath?.startsWith('/hub') ? 'active' : ''}>Hub</a></li>
                <li><a href="/about" onclick="trackNavigation('/about', 'About')">About</a></li>
            </ul>
        </nav>
    </div>
</header>

<script>
    import { trackNavigation } from '../utils/analytics';

    // Make trackNavigation available to inline onclick handlers
    (window as any).trackNavigation = trackNavigation;
</script>
